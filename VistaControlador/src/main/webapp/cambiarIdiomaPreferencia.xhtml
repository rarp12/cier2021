<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:c="http://java.sun.com/jsp/jstl/core">    

    <p:dialog header="#{etiquetas['aplicacion.plantilla.cambiarIdioma.header']}" widgetVar="cambiarIdiomaDialog" resizable="false" 
              showEffect="fade" hideEffect="explode" modal="true" closable="true">    
        <h:form id="formChangeLanguage"> 
            <h:panelGrid columns="2">
                <h:outputLabel for="otLanguage" value="#{etiquetas['aplicacion.plantilla.lbl.idiomaActual']}:" />
                <h:outputText id="otLanguage" value="#{etiquetas[usuarioSesion.usuario.idioma.etiqueta]}" />
                
                <h:outputLabel for="somLanguage" value="#{etiquetas['aplicacion.plantilla.lbl.idioma']}:" />                
                
                <h:selectOneMenu id="somLanguage"                                 
                                 valueChangeListener="#{usuarioSesion.cambiarIdiomaPreferencial}" 
                                 onchange="submit();"
                                 converter="omnifaces.SelectItemsConverter">
                    <f:selectItem value="#{null}"                                                      
                                   itemLabel=""/>
                    <f:selectItems value="#{usuarioSesion.idiomas}"                                                      
                                   var="item" itemValue="#{item}" itemLabel="#{etiquetas[item.etiqueta]}"/>
                </h:selectOneMenu>
            </h:panelGrid>
        </h:form>   
    </p:dialog> 

</ui:composition>