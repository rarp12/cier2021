<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:c="http://java.sun.com/jsp/jstl/core">
    <script type="text/javascript">
        function start() {
            PF('loading').show();
        }
        function finish() {
            PF('loading').hide();
        }
    </script>
    <f:attribute name="texto" value="#{texto}" />
    <p:dialog id="loading" widgetVar="loading"
              modal="true" draggable="false" 
              closable="false" resizable="false" header=" #{etiquetas['aplicacion.general.cargando']}">
        <h:panelGrid columns="1">
            <h:outputLabel value="#{texto}"></h:outputLabel>
            <h:graphicImage name="images/ajax-loader.gif" />
        </h:panelGrid>
    </p:dialog >

</ui:composition>