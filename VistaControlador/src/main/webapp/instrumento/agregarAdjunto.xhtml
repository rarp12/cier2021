<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:c="http://java.sun.com/jsp/jstl/core">
<f:attribute name="repuestaDig" value="#{respuestaDig}" />
    <h:form id="formAdjuntar"> 
    <p:dialog header="#{etiquetas['aplicacion.adjuntos.titulo.agregar']}" widgetVar="adjuntoDialog" resizable="false" id="agregarAdjunto"  
              showEffect="fade" hideEffect="explode" modal="true" closable="true" >        
            <h:panelGrid columns="1" >               
            <h:panelGrid id="buscarAdjuntoDisplay" columns="1" cellpadding="4" style="margin:0 auto;">
                             
                <p:fileUpload id="cargador" fileUploadListener="#{digitarInstrumentoEstatico.cargarArchivo}" 
                                  mode="advanced" 
                                  allowTypes="/(\.|\/)(jpe?g|png|pdf|doc|xls|ppt|docx|xlsx|pptx)$/" 
                                  invalidFileMessage="#{etiquetas['dig.documento.adjunto.noValido']}" 
                                  sizeLimit="5242880" 
                                  invalidSizeMessage="#{etiquetas['dig.documento.adjunto.limiteTamano']}"
                                  cancelLabel="#{etiquetas['aplicacion.general.cancelar']}" 
                                  uploadLabel="#{etiquetas['aplicacion.general.cargar']}" 
                                  label="#{etiquetas['aplicacion.general.seleccionar']}"
                                  required="true" multiple="true"
                                  oncomplete="fileUploadCallback()">          
                    </p:fileUpload>
                    <p:remoteCommand  name="fileUploadCallback" 
                                      action="#{digitarInstrumentoEstatico.guardarArchivo}" 
                                      oncomplete="adjuntoDialog.hide()"
                                      update=":formDeatalleAdjunto"/>               
                   
            </h:panelGrid>
                <h:panelGroup>
                <p:commandButton  value="#{etiquetas['aplicacion.general.cerrar']}" update=":formDeatalleAdjunto"  oncomplete="adjuntoDialog.hide()"
                                  styleClass="btn-danger" />  
                </h:panelGroup>
            </h:panelGrid>     
    </p:dialog>   
       </h:form>  
</ui:composition>